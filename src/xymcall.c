/******************************************************************************/
/*            X Y M O N   C - L A N G U A G E   I N T E R F A C E             */
/*                                          */
/*  functions:                          */
/*    - initXymon                  */
/******************************************************************************/

/******************************************************************************/
/*   I N C L U D E S                                                          */
/******************************************************************************/

// ---------------------------------------------------------
// system
// ---------------------------------------------------------
#include <string.h>

// ---------------------------------------------------------
// own 
// ---------------------------------------------------------

/******************************************************************************/
/*   G L O B A L S                                                            */
/******************************************************************************/
static char *xymsrv = NULL;

static const char defaultXymsrv[] = "0.0.0.0" ;

/******************************************************************************/
/*   D E F I N E S                                                            */
/******************************************************************************/

/******************************************************************************/
/*   M A C R O S                                                              */
/******************************************************************************/

/******************************************************************************/
/*   P R O T O T Y P E S                                                      */
/******************************************************************************/

/******************************************************************************/
/*                                                                            */
/*   F U N C T I O N S                                                        */
/*                                                                            */
/******************************************************************************/

/******************************************************************************/
/*  init xymon interface            */
/******************************************************************************/
int initXymon( char *recipient )
{
#if(0)
  if( (xymsrv == NULL) && xgetenv("XYMSRV") )
  {
    xymsrv = strdup(xgetenv("XYMSRV"));
  }
#endif
  // -------------------------------------------------------
  // get xymsrv
  // -------------------------------------------------------
  if( xymsrv == NULL )                  // get XYMSRV for xymon
  {                                     // 
    xymsrv = getenv("XYMSRV");          //
    else
    {
      if( xymsrv == NULL )                //
      {                                   //
        xymsrv = getenv("XYMONSERVERIP"); // XYMONSERVERIP is alias to XYMSRV
        if( xymsrv == NULL )              //
        {                                 //
          xymsrv = getenv("BBDISP");      // get XYMSRV for bbrother
        }                                 //
      }                                   //
    }                                   //
    if( xymsrv == NULL )
    {
      xymsrv = defaultXymsrv ;
    }
    putenv( "XYMSRV", xymsrv );
  }                                     //

}

